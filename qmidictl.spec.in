%define name    @PACKAGE_TARNAME@
%define version @PACKAGE_VERSION@
%define release 4

%define _prefix	@ac_prefix@

Summary:	A MIDI Remote Controller via UDP/IP Multicast
Name:		%{name}
Version:	%{version}
Release:	%{release}
License:	GPL
Group:		Productivity/Multimedia/Sound/Midi
Source0:	%{name}-%{version}.tar.gz
URL:		http://qmidictl.sourceforge.net/
Packager:	rncbc.org

BuildRoot:	%{_tmppath}/%{name}-%{version}-%{release}-buildroot

BuildRequires:	libqt4-devel >= 4.4

%description
QmidiCtl is a MIDI remote controller application that sends MIDI data
over the network, using UDP/IP multicast. Inspired by multimidicast
(http://llg.cubic.org/tools) and designed to be compatible with ipMIDI
for Windows (http://nerds.de).

%prep
%setup
[ -f Makefile.svn ] && %__make -f Makefile.svn

%build
%configure
%__make

%install
%__make DESTDIR=%{buildroot} install

%clean
[ -d %{buildroot} -a "%{buildroot}" != "" ] && %__rm -rf %{buildroot}

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog README TODO
#dir %{_datadir}/applications
%dir %{_datadir}/icons/hicolor
%dir %{_datadir}/icons/hicolor/26x26
%dir %{_datadir}/icons/hicolor/26x26/apps
%dir %{_datadir}/icons/hicolor/32x32
%dir %{_datadir}/icons/hicolor/32x32/apps
%dir %{_datadir}/icons/hicolor/48x48
%dir %{_datadir}/icons/hicolor/48x48/apps
%dir %{_datadir}/icons/hicolor/64x64
%dir %{_datadir}/icons/hicolor/64x64/apps
%{_bindir}/%{name}
%{_datadir}/applications/%{name}.desktop
%{_datadir}/icons/hicolor/26x26/apps/%{name}.png
%{_datadir}/icons/hicolor/32x32/apps/%{name}.png
%{_datadir}/icons/hicolor/48x48/apps/%{name}.png
%{_datadir}/icons/hicolor/64x64/apps/%{name}.png

%changelog
* Mon May 17 2010 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Standard desktop icon fixing. 
* Mon Apr 26 2010 Rui Nuno Capela <rncbc@users.sourceforge.net>
- MIDI controller assignment configuration debut.
* Thu Mar 11 2010 Rui Nuno Capela <rncbc@users.sourceforge.net> 0.0.1-2
- Attempt to comply with maemo.org extras-testing promotion.
* Fri Mar  7 2010 Rui Nuno Capela <rncbc@users.sourceforge.net> 0.0.1-1
- Created initial qmidictl.spec
